var e=[" ",">","~",":","+","@","#","(",")"];function isValidReplacement(t){for(var n=!0,o=0,r=e.length;o<r&&n;o++)t.indexOf(e[o])>-1&&(n=!1);return n}function isFormControlElement(e){return"INPUT"===e.nodeName||"SELECT"===e.nodeName||"TEXTAREA"===e.nodeName}function createNewEvent(e){var t;return"function"==typeof Event?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),t}function observeValueOfHTMLElement(e,t){var n=Object.getOwnPropertyDescriptor(e.prototype,"value"),o=n.set;n.set=function set(){o.apply(this,arguments),t({target:this})},Object.defineProperty(e.prototype,"value",n)}function cssBlankPseudoInit(e){var t={force:!1,replaceWith:"[blank]"};if(void 0!==e&&"force"in e&&(t.force=e.force),void 0!==e&&"replaceWith"in e&&(t.replaceWith=e.replaceWith),!isValidReplacement(t.replaceWith))throw new Error(t.replaceWith+" is not a valid replacement since it can't be applied to single elements.");try{if(document.querySelector(":blank"),!t.force)return}catch(p){}var n,o,r,a,i,c,l,d=("."===(n=t.replaceWith)[0]?(o=n.slice(1),r=function remove(e){return e.classList.remove(o)},a=function add(e){return e.classList.add(o)}):(o=n.slice(1,-1),r=function remove(e){return e.removeAttribute(o,"")},a=function add(e){return e.setAttribute(o,"")}),function handleInputOrChangeEvent(e){var t=e.target;isFormControlElement(t)&&(("SELECT"===t.nodeName?t.options[t.selectedIndex].value:t.value)?r(t):a(t))}),s=function bindEvents(){document.body&&(document.body.addEventListener("change",d),document.body.addEventListener("input",d))},u=function updateAllCandidates(){Array.prototype.forEach.call(document.querySelectorAll("input, select, textarea"),(function(e){d({target:e})}))};if(document.body?s():window.addEventListener("load",s),-1===document.documentElement.className.indexOf("js-blank-pseudo")&&(document.documentElement.className+=" js-blank-pseudo"),observeValueOfHTMLElement(self.HTMLInputElement,d),observeValueOfHTMLElement(self.HTMLSelectElement,d),observeValueOfHTMLElement(self.HTMLTextAreaElement,d),i=self.HTMLOptionElement,c=Object.getOwnPropertyDescriptor(i.prototype,"selected"),l=c.set,c.set=function set(e){l.apply(this,arguments);var t=createNewEvent("change");this.parentElement.dispatchEvent(t)},Object.defineProperty(i.prototype,"selected",c),u(),"undefined"!=typeof self.MutationObserver)new MutationObserver((function(e){e.forEach((function(e){Array.prototype.forEach.call(e.addedNodes||[],(function(e){1===e.nodeType&&isFormControlElement(e)&&d({target:e})}))}))})).observe(document,{childList:!0,subtree:!0});else{var f=function handleOnLoad(){return u()};window.addEventListener("load",f),window.addEventListener("DOMContentLoaded",f)}}export{cssBlankPseudoInit as default};
//# sourceMappingURL=browser.mjs.map
