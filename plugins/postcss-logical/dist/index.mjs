import r from"postcss";var cloneRule=(e,t)=>{const o="rule"===Object(e.parent).type?e.parent.cloneBefore({raws:{}}).removeAll():r.rule({selector:"&"});return o.selectors=o.selectors.map((r=>`${r}:dir(${t})`)),o};const e=/^border-(block|block-start|block-end|inline|inline-start|inline-end)(-(width|style|color))?$/i;var transformBorder_border_block=(r,t,o,l)=>{r.cloneBefore({prop:`border-top${r.prop.replace(e,"$2")}`,value:t[0]}),r.cloneBefore({prop:`border-bottom${r.prop.replace(e,"$2")}`,value:t[1]||t[0]}),clean$8(r,l)},transformBorder_border_block_start=(r,t,o,l)=>{r.cloneBefore({prop:`border-top${r.prop.replace(e,"$2")}`}),clean$8(r,l)},transformBorder_border_block_end=(r,t,o,l)=>{r.cloneBefore({prop:`border-bottom${r.prop.replace(e,"$2")}`}),clean$8(r,l)},transformBorder_border_inline=(r,t,o,l)=>{const ltrDecls=()=>[r.cloneBefore({prop:`border-left${r.prop.replace(e,"$2")}`,value:t[0]}),r.cloneBefore({prop:`border-right${r.prop.replace(e,"$2")}`,value:t[1]||t[0]})],rtlDecls=()=>[r.clone({prop:`border-right${r.prop.replace(e,"$2")}`,value:t[0]}),r.clone({prop:`border-left${r.prop.replace(e,"$2")}`,value:t[1]||t[0]})];return 1===t.length||2===t.length&&t[0]===t[1]||"ltr"===o?(ltrDecls(),void clean$8(r,l)):"rtl"===o?(rtlDecls(),void clean$8(r,l)):(cloneRule(r,"ltr").append(ltrDecls()),cloneRule(r,"rtl").append(rtlDecls()),void clean$8(r,l))},transformBorder_border_inline_start=(r,t,o,l)=>{const ltrDecl=()=>r.cloneBefore({prop:`border-left${r.prop.replace(e,"$2")}`}),rtlDecl=()=>r.cloneBefore({prop:`border-right${r.prop.replace(e,"$2")}`});return"ltr"===o?(ltrDecl(),void clean$8(r,l)):"rtl"===o?(rtlDecl(),void clean$8(r,l)):(cloneRule(r,"ltr").append(ltrDecl()),cloneRule(r,"rtl").append(rtlDecl()),void clean$8(r,l))},transformBorder_border_inline_end=(r,t,o,l)=>{const ltrDecl=()=>r.cloneBefore({prop:`border-right${r.prop.replace(e,"$2")}`}),rtlDecl=()=>r.cloneBefore({prop:`border-left${r.prop.replace(e,"$2")}`});return"ltr"===o?(ltrDecl(),void clean$8(r,l)):"rtl"===o?(rtlDecl(),void clean$8(r,l)):(cloneRule(r,"ltr").append(ltrDecl()),cloneRule(r,"rtl").append(rtlDecl()),void clean$8(r,l))};function clean$8(r,e){e||r.remove()}const t=/^(border-)(end-end|end-start|start-end|start-start)(-radius)$/i,o={"end-end":"bottom-right","end-start":"bottom-left","start-end":"top-right","start-start":"top-left"},l={"end-end":"bottom-left","end-start":"bottom-right","start-end":"top-left","start-start":"top-right"};var transformBorderRadius=(r,e,t,o)=>"ltr"===t?(lDecl$3(r),void clean$7(r,o)):"rtl"===t?(rDecl$3(r),void clean$7(r,o)):(cloneRule(r,"ltr").append(lDecl$3(r)),cloneRule(r,"rtl").append(rDecl$3(r)),void clean$7(r,o));function lDecl$3(r){return r.cloneBefore({prop:r.prop.replace(t,((r,e,t,l)=>`${e}${o[t]}${l}`))})}function rDecl$3(r){return r.cloneBefore({prop:r.prop.replace(t,((r,e,t,o)=>`${e}${l[t]}${o}`))})}function clean$7(r,e){e||r.remove()}var reduceValues=r=>{const e=r.slice();return 4===e.length&&e[3]===e[1]&&e.pop(),3===e.length&&e[2]===e[0]&&e.pop(),2===e.length&&e[1]===e[0]&&e.pop(),e},transformDirectionalShorthands=(r,e,t,o)=>{if("logical"!==e[0])return null;const[,l,n,i,d]=e,a=reduceValues([l,d||n||l,i||l,n||l]),ltrDecl=()=>r.cloneBefore({value:a.join(" ")});if(a.length<4||"ltr"===t)return ltrDecl(),void clean$6(r,o);const c=reduceValues([l,n||l,i||l,d||n||l]),rtlDecl=()=>r.cloneBefore({value:c.join(" ")});if("rtl"===t)return rtlDecl(),void clean$6(r,o);cloneRule(r,"ltr").append(ltrDecl()),cloneRule(r,"rtl").append(rtlDecl()),clean$6(r,o)};function clean$6(r,e){e||r.remove()}var transformFloat=(r,e,t,o)=>/^inline-start$/i.test(r.value)?"ltr"===t?(lDecl$2(r),void clean$5(r,o)):"rtl"===t?(rDecl$2(r),void clean$5(r,o)):(cloneRule(r,"ltr").append(lDecl$2(r)),cloneRule(r,"rtl").append(rDecl$2(r)),void clean$5(r,o)):/^inline-end$/i.test(r.value)?"ltr"===t?(rDecl$2(r),void clean$5(r,o)):"rtl"===t?(lDecl$2(r),void clean$5(r,o)):(cloneRule(r,"ltr").append(rDecl$2(r)),cloneRule(r,"rtl").append(lDecl$2(r)),void clean$5(r,o)):void 0;function lDecl$2(r){return r.cloneBefore({value:"left"})}function rDecl$2(r){return r.cloneBefore({value:"right"})}function clean$5(r,e){e||r.remove()}var transformInset=(r,e,t,o)=>{if("logical"!==e[0])return r.cloneBefore({prop:"top",value:e[0]}),r.cloneBefore({prop:"right",value:e[1]||e[0]}),r.cloneBefore({prop:"bottom",value:e[2]||e[0]}),r.cloneBefore({prop:"left",value:e[3]||e[1]||e[0]}),void clean$4(r,o);return!e[4]||e[4]===e[2]||"ltr"===t?(lDecl$1(r,e),void clean$4(r,o)):"rtl"===t?(rDecl$1(r,e),void clean$4(r,o)):(cloneRule(r,"ltr").append(lDecl$1(r,e)),cloneRule(r,"rtl").append(rDecl$1(r,e)),void clean$4(r,o))};function lDecl$1(r,e){return[r.cloneBefore({prop:"top",value:e[1]}),r.cloneBefore({prop:"left",value:e[2]||e[1]}),r.cloneBefore({prop:"bottom",value:e[3]||e[1]}),r.cloneBefore({prop:"right",value:e[4]||e[2]||e[1]})]}function rDecl$1(r,e){return[r.cloneBefore({prop:"top",value:e[1]}),r.cloneBefore({prop:"right",value:e[2]||e[1]}),r.cloneBefore({prop:"bottom",value:e[3]||e[1]}),r.cloneBefore({prop:"left",value:e[4]||e[2]||e[1]})]}function clean$4(r,e){e||r.remove()}var transformResize=(r,e,t,o)=>/^block$/i.test(r.value)?(r.cloneBefore({value:"vertical"}),void clean$3(r,o)):/^inline$/i.test(r.value)?(r.cloneBefore({value:"horizontal"}),void clean$3(r,o)):void 0;function clean$3(r,e){e||r.remove()}var n=/^(inset|margin|padding)(?:-(block|block-start|block-end|inline|inline-start|inline-end|start|end))$/i,i=/^inset-/i,cloneDeclBefore=(r,e,t)=>r.cloneBefore({prop:`${r.prop.replace(n,"$1")}${e}`.replace(i,""),value:t}),transformSide_block=(r,e,t,o)=>{cloneDeclBefore(r,"-top",e[0]),cloneDeclBefore(r,"-bottom",e[1]||e[0]),clean$2(r,o)},transformSide_block_start=(r,e,t,o)=>{r.cloneBefore({prop:r.prop.replace(n,"$1-top").replace(i,"")}),clean$2(r,o)},transformSide_block_end=(r,e,t,o)=>{r.cloneBefore({prop:r.prop.replace(n,"$1-bottom").replace(i,"")}),clean$2(r,o)},transformSide_inline=(r,e,t,o)=>{const ltrDecls=()=>[cloneDeclBefore(r,"-left",e[0]),cloneDeclBefore(r,"-right",e[1]||e[0])],rtlDecls=()=>[cloneDeclBefore(r,"-right",e[0]),cloneDeclBefore(r,"-left",e[1]||e[0])];return 1===e.length||2===e.length&&e[0]===e[1]||"ltr"===t?(ltrDecls(),void clean$2(r,o)):"rtl"===t?(rtlDecls(),void clean$2(r,o)):(cloneRule(r,"ltr").append(ltrDecls()),cloneRule(r,"rtl").append(rtlDecls()),void clean$2(r,o))},transformSide_inline_start=(r,e,t,o)=>{const ltrDecl=()=>cloneDeclBefore(r,"-left",r.value),rtlDecl=()=>cloneDeclBefore(r,"-right",r.value);return"ltr"===t?(ltrDecl(),void clean$2(r,o)):"rtl"===t?(rtlDecl(),void clean$2(r,o)):(cloneRule(r,"ltr").append(ltrDecl()),cloneRule(r,"rtl").append(rtlDecl()),void clean$2(r,o))},transformSide_inline_end=(r,e,t,o)=>{const ltrDecl=()=>cloneDeclBefore(r,"-right",r.value),rtlDecl=()=>cloneDeclBefore(r,"-left",r.value);return"ltr"===t?(ltrDecl(),void clean$2(r,o)):"rtl"===t?(rtlDecl(),void clean$2(r,o)):(cloneRule(r,"ltr").append(ltrDecl()),cloneRule(r,"rtl").append(rtlDecl()),void clean$2(r,o))};function clean$2(r,e){e||r.remove()}var d=/^(min-|max-)?(block|inline)-(size)$/i,transformSize=(r,e,t,o)=>{r.cloneBefore({prop:r.prop.replace(d,((r,e,t)=>`${e||""}${"block"===t?"height":"width"}`))}),o||r.remove()},transformTextAlign=(r,e,t,o)=>/^start$/i.test(r.value)?"ltr"===t?(lDecl(r),void clean$1(r,o)):"rtl"===t?(rDecl(r),void clean$1(r,o)):(cloneRule(r,"ltr").append(lDecl(r)),cloneRule(r,"rtl").append(rDecl(r)),void clean$1(r,o)):/^end$/i.test(r.value)?"ltr"===t?(rDecl(r),void clean$1(r,o)):"rtl"===t?(lDecl(r),void clean$1(r,o)):(cloneRule(r,"ltr").append(rDecl(r)),cloneRule(r,"rtl").append(lDecl(r)),void clean$1(r,o)):void 0;function lDecl(r){return r.cloneBefore({value:"left"})}function rDecl(r){return r.cloneBefore({value:"right"})}function clean$1(r,e){e||r.remove()}function splitBySpace(r,e){return splitByRegExp(r,/^\s$/,e)}function splitByRegExp(r,e,t){const o=[];let l="",n=!1,i=0,d=-1;for(;++d<r.length;){const a=r[d];"("===a?i+=1:")"===a?i>0&&(i-=1):0===i&&e.test(a)&&(n=!0),n?(t&&!l.trim()||o.push(t?l.trim():l),t||o.push(a),l="",n=!1):l+=a}return""!==l&&o.push(t?l.trim():l),o}var transformTransition=(r,e,t,o)=>{const l=[],n=[];var i,d;return(i=r.value,splitByRegExp(i,/^,$/,d)).forEach((r=>{let e=!1;splitBySpace(r).forEach(((r,t,o)=>{r in a&&(e=!0,a[r].ltr.forEach((r=>{const e=o.slice();e.splice(t,1,r),l.length&&!/^,$/.test(l[l.length-1])&&l.push(","),l.push(e.join(""))})),a[r].rtl.forEach((r=>{const e=o.slice();e.splice(t,1,r),n.length&&!/^,$/.test(n[n.length-1])&&n.push(","),n.push(e.join(""))})))})),e||(l.push(r),n.push(r))})),l.length&&"ltr"===t?(o&&r.cloneBefore({}),void(r.value=l.join(""))):n.length&&"rtl"===t?(o&&r.cloneBefore({}),void(r.value=n.join(""))):l.join("")!==n.join("")?(cloneRule(r,"ltr").append(r.cloneBefore({value:l.join("")})),cloneRule(r,"rtl").append(r.cloneBefore({value:n.join("")})),void clean(r,o)):void 0};function clean(r,e){e||r.remove()}const a={"block-size":{ltr:["height"],rtl:["height"]},"inline-size":{ltr:["width"],rtl:["width"]},"margin-block-end":{ltr:["margin-bottom"],rtl:["margin-bottom"]},"margin-block-start":{ltr:["margin-top"],rtl:["margin-top"]},"margin-block":{ltr:["margin-top","margin-bottom"],rtl:["margin-top","margin-bottom"]},"margin-inline-end":{ltr:["margin-right"],rtl:["margin-left"]},"margin-inline-start":{ltr:["margin-left"],rtl:["margin-right"]},"margin-inline":{ltr:["margin-left","margin-right"],rtl:["margin-left","margin-right"]},"inset-block-end":{ltr:["bottom"],rtl:["bottom"]},"inset-block-start":{ltr:["top"],rtl:["top"]},"inset-block":{ltr:["top","bottom"],rtl:["top","bottom"]},"inset-inline-end":{ltr:["right"],rtl:["left"]},"inset-inline-start":{ltr:["left"],rtl:["right"]},"inset-inline":{ltr:["left","right"],rtl:["left","right"]},inset:{ltr:["top","right","bottom","left"],rtl:["top","right","bottom","left"]},"padding-block-end":{ltr:["padding-bottom"],rtl:["padding-bottom"]},"padding-block-start":{ltr:["padding-top"],rtl:["padding-top"]},"padding-block":{ltr:["padding-top","padding-bottom"],rtl:["padding-top","padding-bottom"]},"padding-inline-end":{ltr:["padding-right"],rtl:["padding-left"]},"padding-inline-start":{ltr:["padding-left"],rtl:["padding-right"]},"padding-inline":{ltr:["padding-left","padding-right"],rtl:["padding-left","padding-right"]},"border-block-color":{ltr:["border-top-color","border-bottom-color"],rtl:["border-top-color","border-bottom-color"]},"border-block-end-color":{ltr:["border-bottom-color"],rtl:["border-bottom-color"]},"border-block-end-style":{ltr:["border-bottom-style"],rtl:["border-bottom-style"]},"border-block-end-width":{ltr:["border-bottom-width"],rtl:["border-bottom-width"]},"border-block-end":{ltr:["border-bottom"],rtl:["border-bottom"]},"border-block-start-color":{ltr:["border-top-color"],rtl:["border-top-color"]},"border-block-start-style":{ltr:["border-top-style"],rtl:["border-top-style"]},"border-block-start-width":{ltr:["border-top-width"],rtl:["border-top-width"]},"border-block-start":{ltr:["border-top"],rtl:["border-top"]},"border-block-style":{ltr:["border-top-style","border-bottom-style"],rtl:["border-top-style","border-bottom-style"]},"border-block-width":{ltr:["border-top-width","border-bottom-width"],rtl:["border-top-width","border-bottom-width"]},"border-block":{ltr:["border-top","border-bottom"],rtl:["border-top","border-bottom"]},"border-inline-color":{ltr:["border-left-color","border-right-color"],rtl:["border-left-color","border-right-color"]},"border-inline-end-color":{ltr:["border-right-color"],rtl:["border-left-color"]},"border-inline-end-style":{ltr:["border-right-style"],rtl:["border-left-style"]},"border-inline-end-width":{ltr:["border-right-width"],rtl:["border-left-width"]},"border-inline-end":{ltr:["border-right"],rtl:["border-left"]},"border-inline-start-color":{ltr:["border-left-color"],rtl:["border-right-color"]},"border-inline-start-style":{ltr:["border-left-style"],rtl:["border-right-style"]},"border-inline-start-width":{ltr:["border-left-width"],rtl:["border-right-width"]},"border-inline-start":{ltr:["border-left"],rtl:["border-right"]},"border-inline-style":{ltr:["border-left-style","border-right-style"],rtl:["border-left-style","border-right-style"]},"border-inline-width":{ltr:["border-left-width","border-right-width"],rtl:["border-left-width","border-right-width"]},"border-inline":{ltr:["border-left","border-right"],rtl:["border-left","border-right"]},"border-end-end-radius":{ltr:["border-bottom-right-radius"],rtl:["border-bottom-left-radius"]},"border-end-start-radius":{ltr:["border-bottom-left-radius"],rtl:["border-bottom-right-radius"]},"border-start-end-radius":{ltr:["border-top-right-radius"],rtl:["border-top-left-radius"]},"border-start-start-radius":{ltr:["border-top-left-radius"],rtl:["border-top-right-radius"]}};function hasKeyframesAtRuleAncestor(r){let e=r.parent;for(;e;)if("atrule"===e.type){if("keyframes"===e.name)return!0;e=e.parent}else e=e.parent;return!1}function postcssLogicalProperties(r){r=Object(r);const e=Boolean(r.preserve),t=!e&&"string"==typeof r.dir&&(/^rtl$/i.test(r.dir)?"rtl":"ltr"),makeTransform=r=>o=>{if(hasKeyframesAtRuleAncestor(o))return;const l=o.parent,n=splitBySpace(o.value,!0);r(o,n,t,e),l.nodes.length||l.remove()},makeTransformWithoutSplittingValues=r=>o=>{if(hasKeyframesAtRuleAncestor(o))return;const l=o.parent,n=[o.value];r(o,n,t,e),l.nodes.length||l.remove()};return{postcssPlugin:"postcss-logical-properties",Declaration:{clear:makeTransform(transformFloat),float:makeTransform(transformFloat),resize:makeTransform(transformResize),"text-align":makeTransform(transformTextAlign),"block-size":makeTransform(transformSize),"max-block-size":makeTransform(transformSize),"min-block-size":makeTransform(transformSize),"inline-size":makeTransform(transformSize),"max-inline-size":makeTransform(transformSize),"min-inline-size":makeTransform(transformSize),margin:makeTransform(transformDirectionalShorthands),"margin-inline":makeTransform(transformSide_inline),"margin-inline-end":makeTransform(transformSide_inline_end),"margin-inline-start":makeTransform(transformSide_inline_start),"margin-block":makeTransform(transformSide_block),"margin-block-end":makeTransform(transformSide_block_end),"margin-block-start":makeTransform(transformSide_block_start),inset:makeTransform(transformInset),"inset-inline":makeTransform(transformSide_inline),"inset-inline-end":makeTransform(transformSide_inline_end),"inset-inline-start":makeTransform(transformSide_inline_start),"inset-block":makeTransform(transformSide_block),"inset-block-end":makeTransform(transformSide_block_end),"inset-block-start":makeTransform(transformSide_block_start),padding:makeTransform(transformDirectionalShorthands),"padding-inline":makeTransform(transformSide_inline),"padding-inline-end":makeTransform(transformSide_inline_end),"padding-inline-start":makeTransform(transformSide_inline_start),"padding-block":makeTransform(transformSide_block),"padding-block-end":makeTransform(transformSide_block_end),"padding-block-start":makeTransform(transformSide_block_start),"border-block":makeTransformWithoutSplittingValues(transformBorder_border_block),"border-block-color":makeTransform(transformBorder_border_block),"border-block-style":makeTransform(transformBorder_border_block),"border-block-width":makeTransform(transformBorder_border_block),"border-block-end":makeTransformWithoutSplittingValues(transformBorder_border_block_end),"border-block-end-color":makeTransform(transformBorder_border_block_end),"border-block-end-style":makeTransform(transformBorder_border_block_end),"border-block-end-width":makeTransform(transformBorder_border_block_end),"border-block-start":makeTransformWithoutSplittingValues(transformBorder_border_block_start),"border-block-start-color":makeTransform(transformBorder_border_block_start),"border-block-start-style":makeTransform(transformBorder_border_block_start),"border-block-start-width":makeTransform(transformBorder_border_block_start),"border-inline":makeTransformWithoutSplittingValues(transformBorder_border_inline),"border-inline-color":makeTransform(transformBorder_border_inline),"border-inline-style":makeTransform(transformBorder_border_inline),"border-inline-width":makeTransform(transformBorder_border_inline),"border-inline-end":makeTransformWithoutSplittingValues(transformBorder_border_inline_end),"border-inline-end-color":makeTransform(transformBorder_border_inline_end),"border-inline-end-style":makeTransform(transformBorder_border_inline_end),"border-inline-end-width":makeTransform(transformBorder_border_inline_end),"border-inline-start":makeTransformWithoutSplittingValues(transformBorder_border_inline_start),"border-inline-start-color":makeTransform(transformBorder_border_inline_start),"border-inline-start-style":makeTransform(transformBorder_border_inline_start),"border-inline-start-width":makeTransform(transformBorder_border_inline_start),"border-end-end-radius":makeTransform(transformBorderRadius),"border-end-start-radius":makeTransform(transformBorderRadius),"border-start-end-radius":makeTransform(transformBorderRadius),"border-start-start-radius":makeTransform(transformBorderRadius),"border-color":makeTransform(transformDirectionalShorthands),"border-style":makeTransform(transformDirectionalShorthands),"border-width":makeTransform(transformDirectionalShorthands),transition:makeTransform(transformTransition),"transition-property":makeTransform(transformTransition)}}}postcssLogicalProperties.postcss=!0;export{postcssLogicalProperties as default};
